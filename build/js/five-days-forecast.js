var c=(m,e,t)=>new Promise((n,s)=>{var o=a=>{try{i(t.next(a))}catch(r){s(r)}},l=a=>{try{i(t.throw(a))}catch(r){s(r)}},i=a=>a.done?n(a.value):Promise.resolve(a.value).then(o,l);i((t=t.apply(m,e)).next())});import{getDayOfTheWeek as d,renderListWithTemplate as y}from"./utils.js";export default class h{constructor(e,t){this.listElement=e,this.forecastData=t}init(e){return c(this,null,function*(){this.getList(e)})}getList(e){return c(this,null,function*(){const t=yield this.forecastData.fetchWeatherData(e,"forecast");let n=t.list[8],s=t.list[16],o=t.list[24],l=t.list[32],i=t.list[38],a=[n,s,o,l,i];for(let r=0;r<a.length;r++)a[r].dayName=d(a[r]);this.renderForecastList(a)})}prepareMainCardTemplate(e,t){return e.querySelector(".img-card-icon").src="http://openweathermap.org/img/wn/"+t.weather[0].icon+"@2x.png",e.querySelector(".day").textContent=t.dayName,e.querySelector(".weather").textContent=t.weather[0].main,e.querySelector(".min-max").textContent=Math.round(t.main.temp_min)+"\xB0 / "+Math.round(t.main.temp_max)+" \xB0",e.querySelector(".temp").textContent=Math.round(t.main.temp)+" \xB0F",e}renderForecastList(e){this.listElement.innerHTML="";const t=document.getElementById("five-days-forecast-card-template");y(t,this.listElement,e,this.prepareMainCardTemplate)}}
